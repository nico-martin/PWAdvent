{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\admin\\\\Documents\\\\Dev\\\\PWAdvent\\\\pages\\\\_app.js\";\nvar __jsx = React.createElement;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from 'react';\nimport { Provider, useActions, useStoreState } from 'unistore-hooks';\nimport { actions, store } from '@store/index';\nimport './Page.css';\nimport About from '@comps/About/About';\nimport Calendar from '@comps/Calendar/Calendar';\nimport Content from '@comps/Content/Content';\nimport { State } from '@store/types';\nimport useWindowSize from '@comps/hooks/useWindowSize';\nimport { Snow } from '@theme';\nlet startX = 0;\nlet currentX = 0;\nconst touchLength = 100;\nconst MOBILE_BP = 900;\n\nconst Page = () => {\n  const {\n    setOffline,\n    setMenuOpen\n  } = useActions(actions);\n  const {\n    menuOpen\n  } = useStoreState < State > ['menuOpen'];\n  const [isMobile, setIsMobile] = React.useState < boolean > false;\n  const [transition, setTransition] = React.useState < boolean > false;\n  const windowSize = useWindowSize();\n  const [show, setShow] = React.useState < boolean > false;\n  React.useEffect(() => {\n    if (windowSize.width === null) {\n      return;\n    }\n\n    if (windowSize.width >= MOBILE_BP && isMobile) {\n      setMenuOpen(false);\n      setIsMobile(false);\n    } else if (windowSize.width < MOBILE_BP) {\n      setTimeout(() => setTransition(true), 200);\n      setIsMobile(true);\n    }\n\n    setShow(true);\n  }, [windowSize]);\n  React.useEffect(() => {\n    setOffline(!navigator.onLine);\n    window.addEventListener('online', () => setOffline(false), false);\n    window.addEventListener('offline', () => setOffline(true), false);\n  }, []);\n\n  const touchStart = e => {\n    startX = e.touches[0].clientX;\n  };\n\n  const touchEnd = () => {\n    const moved = currentX === 0 ? 0 : currentX - startX;\n\n    if (moved <= touchLength * -1) {\n      setMenuOpen(false);\n    } else if (moved >= touchLength) {\n      setMenuOpen(true);\n    }\n\n    startX = 0;\n    currentX = 0;\n  };\n\n  const touchMove = e => {\n    currentX = e.touches[0].clientX;\n  };\n\n  React.useEffect(() => {\n    window.addEventListener('touchstart', touchStart);\n    window.addEventListener('touchend', touchEnd);\n    window.addEventListener('touchmove', touchMove);\n    return () => {\n      window.removeEventListener('touchstart', touchStart);\n      window.removeEventListener('touchend', touchEnd);\n      window.removeEventListener('touchmove', touchMove);\n    };\n  }, []);\n  return __jsx(Provider, {\n    value: store,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 5\n    }\n  }, __jsx(Component, _extends({}, pageProps, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }\n  })), __jsx(Content, {\n    className: \"app-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }\n  }), __jsx(\"div\", {\n    \"data-menu\": menuOpen ? 'open' : 'closed',\n    \"data-layout\": isMobile ? 'mobile' : 'desktop',\n    \"data-layout-transition\": transition,\n    className: \"app\",\n    style: {\n      opacity: show ? 1 : 0\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }\n  }, show && __jsx(\"div\", {\n    className: \"app__inner\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 11\n    }\n  }, __jsx(About, {\n    className: \"app__sidebar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }\n  }), __jsx(Calendar, {\n    className: \"app__content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }\n  }))), __jsx(Snow, {\n    className: \"app__snow\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }\n  }));\n};","map":{"version":3,"sources":["C:/Users/admin/Documents/Dev/PWAdvent/pages/_app.js"],"names":["React","Provider","useActions","useStoreState","actions","store","About","Calendar","Content","State","useWindowSize","Snow","startX","currentX","touchLength","MOBILE_BP","Page","setOffline","setMenuOpen","menuOpen","isMobile","setIsMobile","useState","boolean","transition","setTransition","windowSize","show","setShow","useEffect","width","setTimeout","navigator","onLine","window","addEventListener","touchStart","e","touches","clientX","touchEnd","moved","touchMove","removeEventListener","pageProps","opacity"],"mappings":"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","sourcesContent":["import React from 'react';\n\nimport { Provider, useActions, useStoreState } from 'unistore-hooks';\nimport { actions, store } from '@store/index';\n\nimport './Page.css';\n\nimport About from '@comps/About/About';\nimport Calendar from '@comps/Calendar/Calendar';\n\nimport Content from '@comps/Content/Content';\nimport { State } from '@store/types';\nimport useWindowSize from '@comps/hooks/useWindowSize';\nimport { Snow } from '@theme';\n\nlet startX = 0;\nlet currentX = 0;\nconst touchLength = 100;\nconst MOBILE_BP = 900;\n\nconst Page = () => {\n  const { setOffline, setMenuOpen } = useActions(actions);\n  const { menuOpen } = useStoreState < State > ['menuOpen'];\n  const [isMobile, setIsMobile] = React.useState < boolean > false;\n  const [transition, setTransition] = React.useState < boolean > false;\n  const windowSize = useWindowSize();\n  const [show, setShow] = React.useState < boolean > false;\n\n  React.useEffect(() => {\n    if (windowSize.width === null) {\n      return;\n    }\n    if (windowSize.width >= MOBILE_BP && isMobile) {\n      setMenuOpen(false);\n      setIsMobile(false);\n    } else if (windowSize.width < MOBILE_BP) {\n      setTimeout(() => setTransition(true), 200);\n      setIsMobile(true);\n    }\n    setShow(true);\n  }, [windowSize]);\n\n  React.useEffect(() => {\n    setOffline(!navigator.onLine);\n    window.addEventListener('online', () => setOffline(false), false);\n    window.addEventListener('offline', () => setOffline(true), false);\n  }, []);\n\n  const touchStart = (e) => {\n    startX = e.touches[0].clientX;\n  };\n  const touchEnd = () => {\n    const moved = currentX === 0 ? 0 : currentX - startX;\n    if (moved <= touchLength * -1) {\n      setMenuOpen(false);\n    } else if (moved >= touchLength) {\n      setMenuOpen(true);\n    }\n    startX = 0;\n    currentX = 0;\n  };\n  const touchMove = (e) => {\n    currentX = e.touches[0].clientX;\n  };\n\n  React.useEffect(() => {\n    window.addEventListener('touchstart', touchStart);\n    window.addEventListener('touchend', touchEnd);\n    window.addEventListener('touchmove', touchMove);\n    return () => {\n      window.removeEventListener('touchstart', touchStart);\n      window.removeEventListener('touchend', touchEnd);\n      window.removeEventListener('touchmove', touchMove);\n    };\n  }, []);\n\n  return (\n    <Provider value={store}>\n      <Component {...pageProps} />\n      <Content className=\"app-content\" />\n      <div\n        data-menu={menuOpen ? 'open' : 'closed'}\n        data-layout={isMobile ? 'mobile' : 'desktop'}\n        data-layout-transition={transition}\n        className=\"app\"\n        style={{ opacity: show ? 1 : 0 }}\n      >\n        {show && (\n          <div className=\"app__inner\">\n            <About className=\"app__sidebar\" />\n            <Calendar className=\"app__content\" />\n          </div>\n        )}\n      </div>\n      <Snow className=\"app__snow\" />\n    </Provider>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}