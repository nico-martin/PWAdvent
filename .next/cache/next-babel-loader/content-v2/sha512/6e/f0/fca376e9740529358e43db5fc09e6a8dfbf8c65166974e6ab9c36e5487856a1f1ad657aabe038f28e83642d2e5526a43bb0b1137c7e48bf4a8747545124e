{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\admin\\\\Documents\\\\Dev\\\\PWAdvent\\\\components\\\\Content\\\\ContentCalendar.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React from 'react';\nimport './ContentCalendar.module.css';\nimport Prism from '@utils/prism';\nimport ContentAuthor from '@app/Content/ContentAuthor';\nimport { Button, LazyImage, Notification } from '@theme';\nimport dayjs from '@utils/dayjs';\nimport useWindowSize from '@app/hooks/useWindowSize';\n\nvar ContentCalendar = function ContentCalendar(_ref) {\n  _s();\n\n  var day = _ref.day,\n      number = _ref.number,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? '' : _ref$className,\n      _ref$error = _ref.error,\n      error = _ref$error === void 0 ? '' : _ref$error;\n  var contentRef = React.useRef(null);\n  var date = React.useMemo(function () {\n    return dayjs(day.date);\n  }, [day.date]);\n\n  var _useWindowSize = useWindowSize(),\n      width = _useWindowSize.width;\n\n  var originalSource = React.useMemo(function () {\n    return day.source ? new URL(day.source) : null;\n  }, [day.source]);\n  var content = React.useMemo(function () {\n    var regex = /<code class=\"language-markup\">((.|\\n)*?)<\\/code>/gm;\n    var m;\n    var c = day.content;\n\n    while ((m = regex.exec(c)) !== null) {\n      if (m.index === regex.lastIndex) {\n        regex.lastIndex++;\n      }\n\n      c = c.replace(m[1], m[1].replace(/</g, '&lt;'));\n    }\n\n    return c;\n  }, [day.content]);\n  React.useEffect(function () {\n    Prism.highlightAll();\n  }, [contentRef, content]);\n\n  if (error !== '') {\n    return __jsx(\"div\", {\n      className: \"content-calendar \".concat(className),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 7\n      }\n    }, __jsx(\"p\", {\n      className: \"content-calendar__error\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }\n    }, error));\n  }\n\n  return __jsx(\"div\", {\n    className: \"content-calendar \".concat(className),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 5\n    }\n  }, __jsx(\"p\", {\n    className: \"content-calendar__date\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  }, __jsx(\"b\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }, \"Day \", number, \":\"), \" \", date && date.format('L')), day.excerpt && __jsx(\"p\", {\n    className: \"content-calendar__excerpt\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, day.excerpt), day.image && __jsx(LazyImage, {\n    image: day.image,\n    className: \"content-calendar__image\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }), day.author && __jsx(\"div\", {\n    className: \"content-calendar__meta\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, __jsx(ContentAuthor, {\n    author: day.author,\n    className: \"content-calendar__author\",\n    small: width <= 700,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  }), 'share' in navigator && __jsx(Button, {\n    className: \"content-share \".concat(className),\n    onClick: function onClick() {\n      return navigator.share({\n        url: window.location.href,\n        text: 'Have a look at the awesome article on PWAdvent.dev',\n        title: \"\".concat(day.title, \" - PWAdvent\")\n      });\n    },\n    layout: \"ghost\",\n    round: true,\n    icon: \"mdi/share\",\n    iconRight: true,\n    size: width <= 700 ? 'small' : 'medium',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }, \"Share\")), __jsx(\"div\", {\n    ref: contentRef,\n    className: \"content-calendar__content gutenberg-content\",\n    dangerouslySetInnerHTML: {\n      __html: content\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }\n  }), originalSource && __jsx(Notification, {\n    className: \"content-calendar__cannonical\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 9\n    }\n  }, \"This article was originally published on\", ' ', __jsx(\"a\", {\n    href: originalSource.href,\n    target: \"_blank\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 11\n    }\n  }, originalSource.host)));\n};\n\n_s(ContentCalendar, \"1uZJNj2SPCUrS6nVHxxduvuR/sM=\", false, function () {\n  return [useWindowSize];\n});\n\n_c = ContentCalendar;\nexport default ContentCalendar;\n\nvar _c;\n\n$RefreshReg$(_c, \"ContentCalendar\");","map":{"version":3,"sources":["C:/Users/admin/Documents/Dev/PWAdvent/components/Content/ContentCalendar.tsx"],"names":["React","Prism","ContentAuthor","Button","LazyImage","Notification","dayjs","useWindowSize","ContentCalendar","day","number","className","error","contentRef","useRef","date","useMemo","width","originalSource","source","URL","content","regex","m","c","exec","index","lastIndex","replace","useEffect","highlightAll","format","excerpt","image","author","navigator","share","url","window","location","href","text","title","__html","host"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { DayData } from '@app/types';\n\nimport './ContentCalendar.module.css';\n\nimport Prism from '@utils/prism';\nimport ContentAuthor from '@app/Content/ContentAuthor';\nimport { Button, LazyImage, Notification } from '@theme';\nimport dayjs from '@utils/dayjs';\nimport useWindowSize from '@app/hooks/useWindowSize';\n\nconst ContentCalendar = ({\n  day,\n  number,\n  className = '',\n  error = '',\n}: {\n  day: DayData;\n  number: number;\n  className?: string;\n  error?: string;\n}) => {\n  const contentRef = React.useRef(null);\n  const date = React.useMemo(() => dayjs(day.date), [day.date]);\n  const { width } = useWindowSize();\n\n  const originalSource = React.useMemo(\n    () => (day.source ? new URL(day.source) : null),\n    [day.source]\n  );\n\n  const content = React.useMemo(() => {\n    const regex = /<code class=\"language-markup\">((.|\\n)*?)<\\/code>/gm;\n    let m;\n    let c = day.content;\n\n    while ((m = regex.exec(c)) !== null) {\n      if (m.index === regex.lastIndex) {\n        regex.lastIndex++;\n      }\n\n      c = c.replace(m[1], m[1].replace(/</g, '&lt;'));\n    }\n\n    return c;\n  }, [day.content]);\n\n  React.useEffect(() => {\n    Prism.highlightAll();\n  }, [contentRef, content]);\n\n  if (error !== '') {\n    return (\n      <div className={`content-calendar ${className}`}>\n        <p className=\"content-calendar__error\">{error}</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className={`content-calendar ${className}`}>\n      <p className=\"content-calendar__date\">\n        <b>Day {number}:</b> {date && date.format('L')}\n      </p>\n      {day.excerpt && (\n        <p className=\"content-calendar__excerpt\">{day.excerpt}</p>\n      )}\n      {day.image && (\n        <LazyImage image={day.image} className=\"content-calendar__image\" />\n      )}\n      {day.author && (\n        <div className=\"content-calendar__meta\">\n          <ContentAuthor\n            author={day.author}\n            className=\"content-calendar__author\"\n            small={width <= 700}\n          />\n          {'share' in navigator && (\n            <Button\n              className={`content-share ${className}`}\n              onClick={() =>\n                navigator.share({\n                  url: window.location.href,\n                  text: 'Have a look at the awesome article on PWAdvent.dev',\n                  title: `${day.title} - PWAdvent`,\n                })\n              }\n              layout=\"ghost\"\n              round\n              icon=\"mdi/share\"\n              iconRight\n              size={width <= 700 ? 'small' : 'medium'}\n            >\n              Share\n            </Button>\n          )}\n        </div>\n      )}\n      <div\n        ref={contentRef}\n        className=\"content-calendar__content gutenberg-content\"\n        dangerouslySetInnerHTML={{\n          __html: content,\n        }}\n      />\n      {originalSource && (\n        <Notification className=\"content-calendar__cannonical\">\n          This article was originally published on{' '}\n          <a href={originalSource.href} target=\"_blank\">\n            {originalSource.host}\n          </a>\n        </Notification>\n      )}\n    </div>\n  );\n};\n\nexport default ContentCalendar;\n"]},"metadata":{},"sourceType":"module"}