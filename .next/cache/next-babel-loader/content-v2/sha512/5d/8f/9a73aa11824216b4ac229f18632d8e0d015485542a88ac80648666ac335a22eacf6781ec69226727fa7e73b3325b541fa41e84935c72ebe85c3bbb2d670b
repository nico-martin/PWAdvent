{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\admin\\\\Documents\\\\Dev\\\\PWAdvent\\\\src\\\\app\\\\About\\\\EmailSignup.tsx\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport { Button, Form, FormControls, FormField, FormFieldset, InputText, Notification } from '@theme';\nimport cn from '@utils/classnames';\nimport { apiBase } from '@utils/constants';\nimport './EmailSignup.css';\n\nconst EmailSignup = ({\n  className = ''\n}) => {\n  const [loading, setLoading] = React.useState(false);\n  const [formSuccess, setFormSuccess] = React.useState('');\n  const [formError, setFormError] = React.useState('');\n  return __jsx(\"div\", {\n    className: cn(className, 'email-signup'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: \"email-signup__content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 7\n    }\n  }, __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 9\n    }\n  }, \"Are you excited for Progressive Web Apps? Let's get ready for PWAdvent! 24 features in 24 days.\"), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 9\n    }\n  }, \"Make sure to subscribe and get notified as soon as a new feature is published.\")), formError !== '' ? __jsx(Notification, {\n    className: \"email-signup__notification\",\n    type: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }\n  }, formError) : formSuccess !== '' ? __jsx(Notification, {\n    className: \"email-signup__notification\",\n    type: \"success\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }\n  }, formSuccess) : __jsx(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  }, __jsx(Form, {\n    className: \"email-signup__form\",\n    onSubmit: async data => {\n      setLoading(true);\n      setFormSuccess('');\n      setFormError('');\n\n      try {\n        const resp = await fetch(`${apiBase}wp-json/advent-calendar/v1/email-notification/`, {\n          method: 'post',\n          body: JSON.stringify({\n            email: data.email,\n            timezoneOffset: new Date().getTimezoneOffset()\n          }),\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        });\n\n        if (resp.status === 409) {\n          setFormSuccess('Thank you very much. Your email has already been registered.');\n        } else if (resp.status === 200) {\n          setFormSuccess('Thank you very much. You will receive an email shortly, in which you can confirm your address');\n        } else {\n          new Error();\n        }\n      } catch (e) {\n        setFormError('Oops.. Something went wrong. Please try again later.');\n      }\n\n      setLoading(false);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 11\n    }\n  }, __jsx(FormFieldset, {\n    stacked: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }\n  }, __jsx(FormField, {\n    name: \"email\",\n    label: \"Email\",\n    component: InputText,\n    disabled: loading,\n    type: \"email\",\n    register: {\n      required: 'This value is required',\n      pattern: {\n        value: /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/,\n        message: 'This needs to be a valid Email adress'\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 15\n    }\n  }), __jsx(FormControls, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 15\n    }\n  }, __jsx(Button, {\n    type: \"submit\",\n    loading: loading,\n    disabled: loading,\n    icon: \"mdi/send\",\n    iconRight: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 17\n    }\n  }, \"Submit\")))), __jsx(\"p\", {\n    className: \"email-signup__disclaimer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 11\n    }\n  }, \"We use your email exclusively to send you the link to the published entry every morning between 2020-12-01 and 2020-12-24. You can cancel this service at any time, your data will not be passed on to third parties.\")));\n};\n\nexport default EmailSignup;","map":{"version":3,"sources":["C:/Users/admin/Documents/Dev/PWAdvent/src/app/About/EmailSignup.tsx"],"names":["React","Button","Form","FormControls","FormField","FormFieldset","InputText","Notification","cn","apiBase","EmailSignup","className","loading","setLoading","useState","formSuccess","setFormSuccess","formError","setFormError","data","resp","fetch","method","body","JSON","stringify","email","timezoneOffset","Date","getTimezoneOffset","headers","status","Error","e","required","pattern","value","message"],"mappings":"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","sourcesContent":["import React from 'react';\n\nimport {\n  Button,\n  Form,\n  FormControls,\n  FormField,\n  FormFieldset,\n  InputText,\n  Notification,\n} from '@theme';\nimport cn from '@utils/classnames';\nimport { apiBase } from '@utils/constants';\n\nimport './EmailSignup.css';\n\nconst EmailSignup = ({ className = '' }: { className?: string }) => {\n  const [loading, setLoading] = React.useState<boolean>(false);\n  const [formSuccess, setFormSuccess] = React.useState<string>('');\n  const [formError, setFormError] = React.useState<string>('');\n\n  return (\n    <div className={cn(className, 'email-signup')}>\n      <div className=\"email-signup__content\">\n        <p>\n          Are you excited for Progressive Web Apps? Let's get ready for\n          PWAdvent! 24 features in 24 days.\n        </p>\n        <p>\n          Make sure to subscribe and get notified as soon as a new feature is\n          published.\n        </p>\n      </div>\n      {formError !== '' ? (\n        <Notification className=\"email-signup__notification\" type=\"error\">\n          {formError}\n        </Notification>\n      ) : formSuccess !== '' ? (\n        <Notification className=\"email-signup__notification\" type=\"success\">\n          {formSuccess}\n        </Notification>\n      ) : (\n        <React.Fragment>\n          <Form\n            className=\"email-signup__form\"\n            onSubmit={async data => {\n              setLoading(true);\n              setFormSuccess('');\n              setFormError('');\n\n              try {\n                const resp = await fetch(\n                  `${apiBase}wp-json/advent-calendar/v1/email-notification/`,\n                  {\n                    method: 'post',\n                    body: JSON.stringify({\n                      email: data.email,\n                      timezoneOffset: new Date().getTimezoneOffset(),\n                    }),\n                    headers: {\n                      'Content-Type': 'application/json',\n                    },\n                  }\n                );\n                if (resp.status === 409) {\n                  setFormSuccess(\n                    'Thank you very much. Your email has already been registered.'\n                  );\n                } else if (resp.status === 200) {\n                  setFormSuccess(\n                    'Thank you very much. You will receive an email shortly, in which you can confirm your address'\n                  );\n                } else {\n                  new Error();\n                }\n              } catch (e) {\n                setFormError(\n                  'Oops.. Something went wrong. Please try again later.'\n                );\n              }\n              setLoading(false);\n            }}\n          >\n            <FormFieldset stacked>\n              <FormField\n                name=\"email\"\n                label=\"Email\"\n                component={InputText}\n                disabled={loading}\n                type=\"email\"\n                register={{\n                  required: 'This value is required',\n                  pattern: {\n                    value: /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/,\n                    message: 'This needs to be a valid Email adress',\n                  },\n                }}\n              />\n              <FormControls>\n                <Button\n                  type=\"submit\"\n                  loading={loading}\n                  disabled={loading}\n                  icon=\"mdi/send\"\n                  iconRight\n                >\n                  Submit\n                </Button>\n              </FormControls>\n            </FormFieldset>\n          </Form>\n          <p className=\"email-signup__disclaimer\">\n            We use your email exclusively to send you the link to the published\n            entry every morning between 2020-12-01 and 2020-12-24. You can\n            cancel this service at any time, your data will not be passed on to\n            third parties.\n          </p>\n        </React.Fragment>\n      )}\n    </div>\n  );\n};\n\nexport default EmailSignup;\n"]},"metadata":{},"sourceType":"module"}