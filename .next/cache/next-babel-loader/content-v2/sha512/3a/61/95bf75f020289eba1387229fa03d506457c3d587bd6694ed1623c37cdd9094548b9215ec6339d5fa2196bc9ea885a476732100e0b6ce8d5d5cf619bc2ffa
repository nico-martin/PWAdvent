{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/admin/Documents/Dev/PWAdvent/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/admin/Documents/Dev/PWAdvent/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"C:/Users/admin/Documents/Dev/PWAdvent/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport createStore from 'unistore';\nimport devtools from 'unistore/devtools';\nimport { isDev, zeroPad } from '@utils/helpers';\nimport { daysDB, pageDB } from '@store/idb';\nimport { CALENDAR, DATE_START, DATE_TODAY, DATE_TODAY_ZERO, YEAR } from '@utils/calendar';\nimport dayjs from '@utils/dayjs';\nimport { apiBase, apiKey } from '@utils/constants';\nvar initialDays = {};\nCALENDAR.map(function (day) {\n  initialDays[day] = {\n    loading: false,\n    error: '',\n    data: {\n      date: \"\".concat(YEAR, \"-12-\").concat(zeroPad(day, 2)),\n      title: '',\n      content: ''\n    }\n  };\n});\nvar initialState = {\n  offline: false,\n  menuOpen: DATE_TODAY.isBefore(DATE_START),\n  days: initialDays,\n  page: {\n    loading: false,\n    slug: '',\n    data: {\n      title: '',\n      content: ''\n    }\n  }\n};\n\nvar setDay = function setDay(day, store) {\n  var value = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var state = store.getState();\n  var daysNow = state.days;\n  store.setState({\n    days: _objectSpread(_objectSpread({}, daysNow), {}, _defineProperty({}, day, _objectSpread(_objectSpread({}, daysNow[day]), value)))\n  });\n};\n\nvar setPage = function setPage(slug, store, title, content) {\n  var state = store.getState();\n\n  if (state.page.slug !== slug) {\n    return;\n  }\n\n  store.setState({\n    page: _objectSpread(_objectSpread({}, state.page), {}, {\n      loading: false,\n      data: {\n        title: title,\n        content: content\n      }\n    })\n  });\n};\n\nexport var actions = function actions(store) {\n  return {\n    setOffline: function setOffline(state, offline) {\n      return store.setState({\n        offline: offline\n      });\n    },\n    loadDay: function () {\n      var _loadDay = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref, day) {\n        var days, storeDay, dayObject, resp, respJson;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                days = _ref.days;\n                storeDay = days[day];\n\n                if (!(!storeDay || !storeDay.data || !storeDay.data.date)) {\n                  _context.next = 5;\n                  break;\n                }\n\n                setDay(day, store, {\n                  loading: false,\n                  error: 'Something went wrong'\n                });\n                return _context.abrupt(\"return\");\n\n              case 5:\n                if (!dayjs(storeDay.data.date).tz('Antarctica/McMurdo', true).isAfter(DATE_TODAY_ZERO)) {\n                  _context.next = 8;\n                  break;\n                }\n\n                setDay(day, store, {\n                  loading: false,\n                  error: 'This article is not yet published.'\n                });\n                return _context.abrupt(\"return\");\n\n              case 8:\n                setDay(day, store, {\n                  loading: true,\n                  error: ''\n                });\n                _context.next = 11;\n                return daysDB.get(String(day));\n\n              case 11:\n                dayObject = _context.sent;\n\n                if (dayObject) {\n                  setDay(day, store, {\n                    loading: false,\n                    data: dayObject\n                  });\n                }\n\n                _context.next = 15;\n                return fetch(\"\".concat(apiBase, \"wp-json/advent-calendar/v1/days/\").concat(day, \"/\").concat(apiKey ? \"?apiKey=\".concat(apiKey) : ''));\n\n              case 15:\n                resp = _context.sent;\n\n                if (!(!resp.ok && !dayObject)) {\n                  _context.next = 19;\n                  break;\n                }\n\n                setDay(day, store, {\n                  loading: false,\n                  error: 'There is no Article for this day.'\n                });\n                return _context.abrupt(\"return\");\n\n              case 19:\n                _context.next = 21;\n                return resp.json();\n\n              case 21:\n                respJson = _context.sent;\n                dayObject = _objectSpread(_objectSpread({}, storeDay.data), {}, {\n                  title: respJson.title,\n                  excerpt: respJson.excerpt,\n                  content: respJson.content,\n                  author: respJson.author,\n                  image: respJson.image,\n                  source: respJson.source\n                }); //}\n\n                setDay(day, store, {\n                  loading: false,\n                  data: dayObject\n                });\n                _context.next = 26;\n                return daysDB.set(String(day), _objectSpread({}, dayObject));\n\n              case 26:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function loadDay(_x, _x2) {\n        return _loadDay.apply(this, arguments);\n      }\n\n      return loadDay;\n    }(),\n    setMenuOpen: function setMenuOpen(state, menuOpen) {\n      return store.setState({\n        menuOpen: menuOpen\n      });\n    },\n    loadPage: function () {\n      var _loadPage = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(state, slug) {\n        var content, resp, respJson;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                store.setState({\n                  page: _objectSpread(_objectSpread({}, state.page), {}, {\n                    loading: true,\n                    slug: slug\n                  })\n                });\n                _context2.next = 3;\n                return pageDB.get(slug);\n\n              case 3:\n                content = _context2.sent;\n\n                if (content) {\n                  setPage(slug, store, content.title, content.content);\n                }\n\n                _context2.next = 7;\n                return fetch(\"\".concat(apiBase, \"wp-json/advent-calendar/v1/page/\").concat(slug, \"/\"));\n\n              case 7:\n                resp = _context2.sent;\n\n                if (!(resp.status !== 200 && !content)) {\n                  _context2.next = 11;\n                  break;\n                }\n\n                setPage(slug, store, 'Error 404', 'The Page you are looking for des not exist');\n                return _context2.abrupt(\"return\");\n\n              case 11:\n                _context2.next = 13;\n                return resp.json();\n\n              case 13:\n                respJson = _context2.sent;\n                setPage(slug, store, respJson.title, respJson.content);\n                _context2.next = 17;\n                return pageDB.set(slug, {\n                  title: respJson.title,\n                  contsnt: respJson.content\n                });\n\n              case 17:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function loadPage(_x3, _x4) {\n        return _loadPage.apply(this, arguments);\n      }\n\n      return loadPage;\n    }()\n  };\n};\nexport var store = isDev ? createStore(initialState) : devtools(createStore(initialState));","map":{"version":3,"sources":["C:/Users/admin/Documents/Dev/PWAdvent/store/index.ts"],"names":["createStore","devtools","isDev","zeroPad","daysDB","pageDB","CALENDAR","DATE_START","DATE_TODAY","DATE_TODAY_ZERO","YEAR","dayjs","apiBase","apiKey","initialDays","map","day","loading","error","data","date","title","content","initialState","offline","menuOpen","isBefore","days","page","slug","setDay","store","value","state","getState","daysNow","setState","setPage","actions","setOffline","loadDay","storeDay","tz","isAfter","get","String","dayObject","fetch","resp","ok","json","respJson","excerpt","author","image","source","set","setMenuOpen","loadPage","status","contsnt"],"mappings":"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","sourcesContent":["import { State } from './types';\n\nimport createStore, { Store } from 'unistore';\nimport devtools from 'unistore/devtools';\n\nimport { isDev, zeroPad } from '@utils/helpers';\nimport { daysDB, pageDB } from '@store/idb';\nimport {\n  CALENDAR,\n  DATE_START,\n  DATE_TODAY,\n  DATE_TODAY_ZERO,\n  YEAR,\n} from '@utils/calendar';\nimport dayjs from '@utils/dayjs';\n\nimport { apiBase, apiKey } from '@utils/constants';\n\nconst initialDays = {};\nCALENDAR.map(day => {\n  initialDays[day] = {\n    loading: false,\n    error: '',\n    data: {\n      date: `${YEAR}-12-${zeroPad(day, 2)}`,\n      title: '',\n      content: '',\n    },\n  };\n});\n\nconst initialState: State = {\n  offline: false,\n  menuOpen: DATE_TODAY.isBefore(DATE_START),\n  days: initialDays,\n  page: {\n    loading: false,\n    slug: '',\n    data: {\n      title: '',\n      content: '',\n    },\n  },\n};\n\nconst setDay = (day: number, store: Store<State>, value = {}): void => {\n  const state = store.getState();\n  const daysNow = state.days;\n  store.setState({\n    days: {\n      ...daysNow,\n      [day]: {\n        ...daysNow[day],\n        ...value,\n      },\n    },\n  });\n};\n\nconst setPage = (\n  slug: string,\n  store: Store<State>,\n  title: string,\n  content: string\n): void => {\n  const state = store.getState();\n  if (state.page.slug !== slug) {\n    return;\n  }\n  store.setState({\n    page: {\n      ...state.page,\n      loading: false,\n      data: {\n        title,\n        content,\n      },\n    },\n  });\n};\n\nexport const actions = (store: Store<State>) => ({\n  setOffline: (state, offline: boolean) => store.setState({ offline }),\n  loadDay: async ({ days }, day: number) => {\n    const storeDay = days[day];\n\n    if (!storeDay || !storeDay.data || !storeDay.data.date) {\n      setDay(day, store, {\n        loading: false,\n        error: 'Something went wrong',\n      });\n      return;\n    }\n\n    // check if API has already released article\n    if (\n      dayjs(storeDay.data.date)\n        .tz('Antarctica/McMurdo', true)\n        .isAfter(DATE_TODAY_ZERO)\n    ) {\n      setDay(day, store, {\n        loading: false,\n        error: 'This article is not yet published.',\n      });\n      return;\n    }\n\n    setDay(day, store, {\n      loading: true,\n      error: '',\n    });\n\n    let dayObject = await daysDB.get(String(day));\n    if (dayObject) {\n      setDay(day, store, {\n        loading: false,\n        data: dayObject,\n      });\n    }\n\n    const resp = await fetch(\n      `${apiBase}wp-json/advent-calendar/v1/days/${day}/${\n        apiKey ? `?apiKey=${apiKey}` : ''\n      }`\n    );\n\n    // not found\n    if (!resp.ok && !dayObject) {\n      setDay(day, store, {\n        loading: false,\n        error: 'There is no Article for this day.',\n      });\n      return;\n    }\n\n    // ok\n    const respJson = await resp.json();\n\n    dayObject = {\n      ...storeDay.data,\n      title: respJson.title,\n      excerpt: respJson.excerpt,\n      content: respJson.content,\n      author: respJson.author,\n      image: respJson.image,\n      source: respJson.source,\n    };\n    //}\n\n    setDay(day, store, {\n      loading: false,\n      data: dayObject,\n    });\n    await daysDB.set(String(day), { ...dayObject });\n  },\n  setMenuOpen: (state, menuOpen: boolean) => store.setState({ menuOpen }),\n  loadPage: async (state, slug: string) => {\n    store.setState({ page: { ...state.page, loading: true, slug } });\n    const content = await pageDB.get(slug);\n    if (content) {\n      setPage(slug, store, content.title, content.content);\n    }\n\n    const resp = await fetch(\n      `${apiBase}wp-json/advent-calendar/v1/page/${slug}/`\n    );\n    if (resp.status !== 200 && !content) {\n      setPage(\n        slug,\n        store,\n        'Error 404',\n        'The Page you are looking for des not exist'\n      );\n      return;\n    }\n\n    const respJson = await resp.json();\n    setPage(slug, store, respJson.title, respJson.content);\n\n    await pageDB.set(slug, {\n      title: respJson.title,\n      contsnt: respJson.content,\n    });\n  },\n});\n\nexport const store = isDev\n  ? createStore(initialState)\n  : devtools(createStore(initialState));\n"]},"metadata":{},"sourceType":"module"}