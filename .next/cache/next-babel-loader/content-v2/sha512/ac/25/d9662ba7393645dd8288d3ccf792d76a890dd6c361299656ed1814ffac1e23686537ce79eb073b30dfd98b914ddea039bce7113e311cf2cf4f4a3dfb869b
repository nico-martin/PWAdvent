{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\admin\\\\Documents\\\\Dev\\\\PWAdvent\\\\components\\\\Content\\\\ContentCalendar.tsx\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport { Button, LazyImage, Notification } from '@theme';\nimport ContentAuthor from '@app/Content/ContentAuthor';\nimport useWindowSize from '@app/hooks/useWindowSize';\nimport cn from '@utils/classnames';\nimport dayjs from '@utils/dayjs';\nimport Prism from '@utils/prism';\nimport styles from './ContentCalendar.module.css';\n\nconst ContentCalendar = ({\n  day,\n  number,\n  className = '',\n  error = ''\n}) => {\n  const contentRef = React.useRef(null);\n  const date = React.useMemo(() => dayjs(day.date), [day.date]);\n  const {\n    width\n  } = useWindowSize();\n  const originalSource = React.useMemo(() => day.source ? new URL(day.source) : null, [day.source]);\n  const content = React.useMemo(() => {\n    const regex = /<code class=\"language-markup\">((.|\\n)*?)<\\/code>/gm;\n    let m;\n    let c = day.content;\n\n    while ((m = regex.exec(c)) !== null) {\n      if (m.index === regex.lastIndex) {\n        regex.lastIndex++;\n      }\n\n      c = c.replace(m[1], m[1].replace(/</g, '&lt;'));\n    }\n\n    return c;\n  }, [day.content]);\n  React.useEffect(() => {\n    Prism.highlightAll();\n  }, [contentRef, content]);\n\n  if (error !== '') {\n    return __jsx(\"div\", {\n      className: className,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 7\n      }\n    }, __jsx(\"p\", {\n      className: cn(styles.error),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }\n    }, error));\n  }\n\n  return __jsx(\"div\", {\n    className: className,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 5\n    }\n  }, __jsx(\"p\", {\n    className: cn(styles.date),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  }, __jsx(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, \"Day \", number, \":\"), \" \", date && date.format('L')), day.excerpt && __jsx(\"p\", {\n    className: cn(styles.excerpt),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 23\n    }\n  }, day.excerpt), day.image && __jsx(LazyImage, {\n    image: day.image,\n    className: cn(styles.image),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }), day.author && __jsx(\"div\", {\n    className: \"content-calendar__meta\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }, __jsx(ContentAuthor, {\n    author: day.author,\n    className: \"content-calendar__author\",\n    small: width <= 700,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 11\n    }\n  }), 'share' in navigator && __jsx(Button, {\n    className: `content-share ${className}`,\n    onClick: () => navigator.share({\n      url: window.location.href,\n      text: 'Have a look at the awesome article on PWAdvent.dev',\n      title: `${day.title} - PWAdvent`\n    }),\n    layout: \"ghost\",\n    round: true,\n    icon: \"mdi/share\",\n    iconRight: true,\n    size: width <= 700 ? 'small' : 'medium',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }\n  }, \"Share\")), __jsx(\"div\", {\n    ref: contentRef,\n    className: \"content-calendar__content gutenberg-content\",\n    dangerouslySetInnerHTML: {\n      __html: content\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }\n  }), originalSource && __jsx(Notification, {\n    className: \"content-calendar__cannonical\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }\n  }, \"This article was originally published on\", ' ', __jsx(\"a\", {\n    href: originalSource.href,\n    target: \"_blank\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 11\n    }\n  }, originalSource.host)));\n};\n\nexport default ContentCalendar;","map":{"version":3,"sources":["C:/Users/admin/Documents/Dev/PWAdvent/components/Content/ContentCalendar.tsx"],"names":["React","Button","LazyImage","Notification","ContentAuthor","useWindowSize","cn","dayjs","Prism","styles","ContentCalendar","day","number","className","error","contentRef","useRef","date","useMemo","width","originalSource","source","URL","content","regex","m","c","exec","index","lastIndex","replace","useEffect","highlightAll","format","excerpt","image","author","navigator","share","url","window","location","href","text","title","__html","host"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Button, LazyImage, Notification } from '@theme';\nimport ContentAuthor from '@app/Content/ContentAuthor';\nimport useWindowSize from '@app/hooks/useWindowSize';\nimport { DayData } from '@app/types';\nimport cn from '@utils/classnames';\nimport dayjs from '@utils/dayjs';\nimport Prism from '@utils/prism';\nimport styles from './ContentCalendar.module.css';\n\nconst ContentCalendar = ({\n  day,\n  number,\n  className = '',\n  error = '',\n}: {\n  day: DayData;\n  number: number;\n  className?: string;\n  error?: string;\n}) => {\n  const contentRef = React.useRef(null);\n  const date = React.useMemo(() => dayjs(day.date), [day.date]);\n  const { width } = useWindowSize();\n\n  const originalSource = React.useMemo(\n    () => (day.source ? new URL(day.source) : null),\n    [day.source]\n  );\n\n  const content = React.useMemo(() => {\n    const regex = /<code class=\"language-markup\">((.|\\n)*?)<\\/code>/gm;\n    let m;\n    let c = day.content;\n\n    while ((m = regex.exec(c)) !== null) {\n      if (m.index === regex.lastIndex) {\n        regex.lastIndex++;\n      }\n\n      c = c.replace(m[1], m[1].replace(/</g, '&lt;'));\n    }\n\n    return c;\n  }, [day.content]);\n\n  React.useEffect(() => {\n    Prism.highlightAll();\n  }, [contentRef, content]);\n\n  if (error !== '') {\n    return (\n      <div className={className}>\n        <p className={cn(styles.error)}>{error}</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className={className}>\n      <p className={cn(styles.date)}>\n        <b>Day {number}:</b> {date && date.format('L')}\n      </p>\n      {day.excerpt && <p className={cn(styles.excerpt)}>{day.excerpt}</p>}\n      {day.image && (\n        <LazyImage image={day.image} className={cn(styles.image)} />\n      )}\n      {day.author && (\n        <div className=\"content-calendar__meta\">\n          <ContentAuthor\n            author={day.author}\n            className=\"content-calendar__author\"\n            small={width <= 700}\n          />\n          {'share' in navigator && (\n            <Button\n              className={`content-share ${className}`}\n              onClick={() =>\n                navigator.share({\n                  url: window.location.href,\n                  text: 'Have a look at the awesome article on PWAdvent.dev',\n                  title: `${day.title} - PWAdvent`,\n                })\n              }\n              layout=\"ghost\"\n              round\n              icon=\"mdi/share\"\n              iconRight\n              size={width <= 700 ? 'small' : 'medium'}\n            >\n              Share\n            </Button>\n          )}\n        </div>\n      )}\n      <div\n        ref={contentRef}\n        className=\"content-calendar__content gutenberg-content\"\n        dangerouslySetInnerHTML={{\n          __html: content,\n        }}\n      />\n      {originalSource && (\n        <Notification className=\"content-calendar__cannonical\">\n          This article was originally published on{' '}\n          <a href={originalSource.href} target=\"_blank\">\n            {originalSource.host}\n          </a>\n        </Notification>\n      )}\n    </div>\n  );\n};\n\nexport default ContentCalendar;\n"]},"metadata":{},"sourceType":"module"}