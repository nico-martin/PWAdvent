{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/admin/Documents/Dev/PWAdvent/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/admin/Documents/Dev/PWAdvent/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { openDB } from 'idb';\nvar dbName = 'pwadvent';\nvar dbPromise = openDB(dbName, 2, {\n  upgrade: function upgrade(db, oldVersion) {\n    if (oldVersion < 1) {\n      db.createObjectStore('days');\n      db.createObjectStore('page');\n    }\n\n    if (oldVersion < 2) {\n      db.createObjectStore('settings');\n    }\n  }\n});\nexport var daysDB = {\n  get: function () {\n    var _get = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(key) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return dbPromise;\n\n            case 2:\n              return _context.abrupt(\"return\", _context.sent.get('days', key));\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    function get(_x) {\n      return _get.apply(this, arguments);\n    }\n\n    return get;\n  }(),\n  set: function () {\n    var _set = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(key, val) {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return dbPromise;\n\n            case 2:\n              return _context2.abrupt(\"return\", _context2.sent.put('days', val, key));\n\n            case 3:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    function set(_x2, _x3) {\n      return _set.apply(this, arguments);\n    }\n\n    return set;\n  }(),\n  \"delete\": function () {\n    var _delete2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(key) {\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return dbPromise;\n\n            case 2:\n              return _context3.abrupt(\"return\", _context3.sent[\"delete\"]('days', key));\n\n            case 3:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    function _delete(_x4) {\n      return _delete2.apply(this, arguments);\n    }\n\n    return _delete;\n  }()\n};\nexport var pageDB = {\n  get: function () {\n    var _get2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(key) {\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return dbPromise;\n\n            case 2:\n              return _context4.abrupt(\"return\", _context4.sent.get('page', key));\n\n            case 3:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n\n    function get(_x5) {\n      return _get2.apply(this, arguments);\n    }\n\n    return get;\n  }(),\n  set: function () {\n    var _set2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(key, val) {\n      return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              _context5.next = 2;\n              return dbPromise;\n\n            case 2:\n              return _context5.abrupt(\"return\", _context5.sent.put('page', val, key));\n\n            case 3:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5);\n    }));\n\n    function set(_x6, _x7) {\n      return _set2.apply(this, arguments);\n    }\n\n    return set;\n  }(),\n  \"delete\": function () {\n    var _delete3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6(key) {\n      return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              _context6.next = 2;\n              return dbPromise;\n\n            case 2:\n              return _context6.abrupt(\"return\", _context6.sent[\"delete\"]('page', key));\n\n            case 3:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, _callee6);\n    }));\n\n    function _delete(_x8) {\n      return _delete3.apply(this, arguments);\n    }\n\n    return _delete;\n  }()\n};\nexport var settingsDB = {\n  get: function () {\n    var _get3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee7(key) {\n      return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              _context7.next = 2;\n              return dbPromise;\n\n            case 2:\n              return _context7.abrupt(\"return\", _context7.sent.get('settings', key));\n\n            case 3:\n            case \"end\":\n              return _context7.stop();\n          }\n        }\n      }, _callee7);\n    }));\n\n    function get(_x9) {\n      return _get3.apply(this, arguments);\n    }\n\n    return get;\n  }(),\n  set: function () {\n    var _set3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee8(key, val) {\n      return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n        while (1) {\n          switch (_context8.prev = _context8.next) {\n            case 0:\n              _context8.next = 2;\n              return dbPromise;\n\n            case 2:\n              return _context8.abrupt(\"return\", _context8.sent.put('settings', val, key));\n\n            case 3:\n            case \"end\":\n              return _context8.stop();\n          }\n        }\n      }, _callee8);\n    }));\n\n    function set(_x10, _x11) {\n      return _set3.apply(this, arguments);\n    }\n\n    return set;\n  }(),\n  \"delete\": function () {\n    var _delete4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee9(key) {\n      return _regeneratorRuntime.wrap(function _callee9$(_context9) {\n        while (1) {\n          switch (_context9.prev = _context9.next) {\n            case 0:\n              _context9.next = 2;\n              return dbPromise;\n\n            case 2:\n              return _context9.abrupt(\"return\", _context9.sent[\"delete\"]('settings', key));\n\n            case 3:\n            case \"end\":\n              return _context9.stop();\n          }\n        }\n      }, _callee9);\n    }));\n\n    function _delete(_x12) {\n      return _delete4.apply(this, arguments);\n    }\n\n    return _delete;\n  }()\n};","map":{"version":3,"sources":["C:/Users/admin/Documents/Dev/PWAdvent/store/idb.ts"],"names":["openDB","dbName","dbPromise","upgrade","db","oldVersion","createObjectStore","daysDB","get","key","set","val","put","pageDB","settingsDB"],"mappings":"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","sourcesContent":["import { openDB, DBSchema } from 'idb';\nimport { DayData } from '@app/types';\n\nconst dbName = 'pwadvent';\n\ninterface PWAdventDB extends DBSchema {\n  days: {\n    key: string;\n    value: any;\n  };\n  page: {\n    key: string;\n    value: DayData;\n  };\n  settings: {\n    key: string;\n    value: any;\n  };\n}\n\nconst dbPromise = openDB<PWAdventDB>(dbName, 2, {\n  upgrade(db, oldVersion) {\n    if (oldVersion < 1) {\n      db.createObjectStore('days');\n      db.createObjectStore('page');\n    }\n    if (oldVersion < 2) {\n      db.createObjectStore('settings');\n    }\n  },\n});\n\nexport const daysDB = {\n  get: async (key: string) => (await dbPromise).get('days', key),\n  set: async (key: string, val: any) => (await dbPromise).put('days', val, key),\n  delete: async (key: string) => (await dbPromise).delete('days', key),\n};\n\nexport const pageDB = {\n  get: async (key: string) => (await dbPromise).get('page', key),\n  set: async (key: string, val: any) => (await dbPromise).put('page', val, key),\n  delete: async (key: string) => (await dbPromise).delete('page', key),\n};\n\nexport const settingsDB = {\n  get: async (key: string) => (await dbPromise).get('settings', key),\n  set: async (key: string, val: any) =>\n    (await dbPromise).put('settings', val, key),\n  delete: async (key: string) => (await dbPromise).delete('settings', key),\n};\n"]},"metadata":{},"sourceType":"module"}