{"ast":null,"code":"import _slicedToArray from \"C:/Users/admin/Documents/Dev/PWAdvent/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\admin\\\\Documents\\\\Dev\\\\PWAdvent\\\\components\\\\Page.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React from 'react';\nimport { Provider, useActions, useStoreState } from 'unistore-hooks';\nimport { actions, store } from '@store/index';\nimport './Page.css';\nimport About from '@comps/About/About';\nimport Calendar from '@comps/Calendar/Calendar';\nimport Content from '@comps/Content/Content';\nimport useWindowSize from '@comps/hooks/useWindowSize';\nimport { Snow } from '@theme';\nvar startX = 0;\nvar currentX = 0;\nvar touchLength = 100;\nvar MOBILE_BP = 900;\n\nvar Page = function Page() {\n  _s();\n\n  var _useActions = useActions(actions),\n      setOffline = _useActions.setOffline,\n      setMenuOpen = _useActions.setMenuOpen;\n\n  var _useStoreState = useStoreState(['menuOpen']),\n      menuOpen = _useStoreState.menuOpen;\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      isMobile = _React$useState2[0],\n      setIsMobile = _React$useState2[1];\n\n  var _React$useState3 = React.useState(false),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      transition = _React$useState4[0],\n      setTransition = _React$useState4[1];\n\n  var windowSize = useWindowSize();\n\n  var _React$useState5 = React.useState(false),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      show = _React$useState6[0],\n      setShow = _React$useState6[1];\n\n  React.useEffect(function () {\n    if (windowSize.width === null) {\n      return;\n    }\n\n    if (windowSize.width >= MOBILE_BP && isMobile) {\n      setMenuOpen(false);\n      setIsMobile(false);\n    } else if (windowSize.width < MOBILE_BP) {\n      setTimeout(function () {\n        return setTransition(true);\n      }, 200);\n      setIsMobile(true);\n    }\n\n    setShow(true);\n  }, [windowSize]);\n  React.useEffect(function () {\n    setOffline(!navigator.onLine);\n    window.addEventListener('online', function () {\n      return setOffline(false);\n    }, false);\n    window.addEventListener('offline', function () {\n      return setOffline(true);\n    }, false);\n  }, []);\n\n  var touchStart = function touchStart(e) {\n    startX = e.touches[0].clientX;\n  };\n\n  var touchEnd = function touchEnd() {\n    var moved = currentX === 0 ? 0 : currentX - startX;\n\n    if (moved <= touchLength * -1) {\n      setMenuOpen(false);\n    } else if (moved >= touchLength) {\n      setMenuOpen(true);\n    }\n\n    startX = 0;\n    currentX = 0;\n  };\n\n  var touchMove = function touchMove(e) {\n    currentX = e.touches[0].clientX;\n  };\n\n  React.useEffect(function () {\n    window.addEventListener('touchstart', touchStart);\n    window.addEventListener('touchend', touchEnd);\n    window.addEventListener('touchmove', touchMove);\n    return function () {\n      window.removeEventListener('touchstart', touchStart);\n      window.removeEventListener('touchend', touchEnd);\n      window.removeEventListener('touchmove', touchMove);\n    };\n  }, []);\n  return __jsx(Provider, {\n    value: store,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 5\n    }\n  }, __jsx(Content, {\n    className: \"app-content\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }\n  }), __jsx(\"div\", {\n    \"data-menu\": menuOpen ? 'open' : 'closed',\n    \"data-layout\": isMobile ? 'mobile' : 'desktop',\n    \"data-layout-transition\": transition,\n    className: \"app\",\n    style: {\n      opacity: show ? 1 : 0\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }\n  }, show && __jsx(\"div\", {\n    className: \"app__inner\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 11\n    }\n  }, __jsx(About, {\n    className: \"app__sidebar\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }\n  }), __jsx(Calendar, {\n    className: \"app__content\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }\n  }))), __jsx(Snow, {\n    className: \"app__snow\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }\n  }));\n};\n\n_s(Page, \"1LqvUAcyKQEKco5X/zZbGYD8cbk=\", false, function () {\n  return [useActions, useStoreState, useWindowSize];\n});\n\n_c = Page;\nexport default Page;\n\nvar _c;\n\n$RefreshReg$(_c, \"Page\");","map":{"version":3,"sources":["C:/Users/admin/Documents/Dev/PWAdvent/components/Page.tsx"],"names":["React","Provider","useActions","useStoreState","actions","store","About","Calendar","Content","useWindowSize","Snow","startX","currentX","touchLength","MOBILE_BP","Page","setOffline","setMenuOpen","menuOpen","useState","isMobile","setIsMobile","transition","setTransition","windowSize","show","setShow","useEffect","width","setTimeout","navigator","onLine","window","addEventListener","touchStart","e","touches","clientX","touchEnd","moved","touchMove","removeEventListener","opacity"],"mappings":"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","sourcesContent":["import React from 'react';\n\nimport { Provider, useActions, useStoreState } from 'unistore-hooks';\nimport { actions, store } from '@store/index';\n\nimport './Page.css';\n\nimport About from '@comps/About/About';\nimport Calendar from '@comps/Calendar/Calendar';\n\nimport Content from '@comps/Content/Content';\nimport { State } from '@store/types';\nimport useWindowSize from '@comps/hooks/useWindowSize';\nimport { Snow } from '@theme';\n\nlet startX = 0;\nlet currentX = 0;\nconst touchLength = 100;\nconst MOBILE_BP = 900;\n\nconst Page = () => {\n  const { setOffline, setMenuOpen } = useActions(actions);\n  const { menuOpen } = useStoreState<State>(['menuOpen']);\n  const [isMobile, setIsMobile] = React.useState<boolean>(false);\n  const [transition, setTransition] = React.useState<boolean>(false);\n  const windowSize = useWindowSize();\n  const [show, setShow] = React.useState<boolean>(false);\n\n  React.useEffect(() => {\n    if (windowSize.width === null) {\n      return;\n    }\n    if (windowSize.width >= MOBILE_BP && isMobile) {\n      setMenuOpen(false);\n      setIsMobile(false);\n    } else if (windowSize.width < MOBILE_BP) {\n      setTimeout(() => setTransition(true), 200);\n      setIsMobile(true);\n    }\n    setShow(true);\n  }, [windowSize]);\n\n  React.useEffect(() => {\n    setOffline(!navigator.onLine);\n    window.addEventListener('online', () => setOffline(false), false);\n    window.addEventListener('offline', () => setOffline(true), false);\n  }, []);\n\n  const touchStart = (e) => {\n    startX = e.touches[0].clientX;\n  };\n  const touchEnd = () => {\n    const moved = currentX === 0 ? 0 : currentX - startX;\n    if (moved <= touchLength * -1) {\n      setMenuOpen(false);\n    } else if (moved >= touchLength) {\n      setMenuOpen(true);\n    }\n    startX = 0;\n    currentX = 0;\n  };\n  const touchMove = (e) => {\n    currentX = e.touches[0].clientX;\n  };\n\n  React.useEffect(() => {\n    window.addEventListener('touchstart', touchStart);\n    window.addEventListener('touchend', touchEnd);\n    window.addEventListener('touchmove', touchMove);\n    return () => {\n      window.removeEventListener('touchstart', touchStart);\n      window.removeEventListener('touchend', touchEnd);\n      window.removeEventListener('touchmove', touchMove);\n    };\n  }, []);\n\n  return (\n    <Provider value={store}>\n      <Content className=\"app-content\" />\n      <div\n        data-menu={menuOpen ? 'open' : 'closed'}\n        data-layout={isMobile ? 'mobile' : 'desktop'}\n        data-layout-transition={transition}\n        className=\"app\"\n        style={{ opacity: show ? 1 : 0 }}\n      >\n        {show && (\n          <div className=\"app__inner\">\n            <About className=\"app__sidebar\" />\n            <Calendar className=\"app__content\" />\n          </div>\n        )}\n      </div>\n      <Snow className=\"app__snow\" />\n    </Provider>\n  );\n};\n\nexport default Page;\n"]},"metadata":{},"sourceType":"module"}